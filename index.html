<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                var filteredData = jsonData.filter(row => row.some(filledCell));
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex));
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }

        // Function to load bookmarklets from manually specified JS files
        async function loadBookmarklets() {
            const repoOwner = 'USERNAME'; // Replace with your GitHub username
            const repoName = 'REPO'; // Replace with your repository name
            const branch = 'main'; // Replace with your branch if not 'main' (e.g., 'gh-pages')
            // Manually specify the JavaScript files to include
            const jsFiles = [
                'scripts/bookmarklet1.js',
                'scripts/bookmarklet2.js'
                // Add more file paths here, e.g., 'scripts/bookmarklet3.js'
            ];
            const container = document.querySelector('.container');
            const dynamicSection = document.createElement('section');
            dynamicSection.innerHTML = '<h2>Bookmarklets Dinâmicos</h2>';
            container.appendChild(dynamicSection);

            for (const file of jsFiles) {
                try {
                    // Fetch raw content of each .js file
                    const rawResponse = await fetch(`https://raw.githubusercontent.com/${repoOwner}/${repoName}/${branch}/${file}`);
                    if (!rawResponse.ok) throw new Error(`Failed to fetch ${file}`);
                    let jsCode = await rawResponse.text();

                    // Remove comments and minify (basic minification)
                    jsCode = jsCode.replace(/\/\/.*$/gm, '') // Remove single-line comments
                                   .replace(/\/\*[\s\S]*?\*\//g, '') // Remove multi-line comments
                                   .replace(/\s+/g, ' ').trim(); // Collapse whitespace

                    // Create bookmarklet URL
                    const bookmarkletCode = `javascript:(function(){${encodeURIComponent(jsCode)}})();`;

                    // Create div for bookmarklet
                    const div = document.createElement('div');
                    div.className = 'bookmarklet';
                    const fileName = file.split('/').pop().replace('.js', '');
                    div.innerHTML = `
                        <h2>${fileName}</h2>
                        <p>Bookmarklet gerado a partir do arquivo ${file}.</p>
                        <a href="${bookmarkletCode}">Executar ${fileName}</a>
                    `;
                    dynamicSection.appendChild(div);
                } catch (error) {
                    console.error(`Erro ao carregar ${file}:`, error);
                    const errorDiv = document.createElement('div');
                    errorDiv.className = 'bookmarklet';
                    errorDiv.innerHTML = `<p>Erro ao carregar ${file}. Verifique o console para mais detalhes.</p>`;
                    dynamicSection.appendChild(errorDiv);
                }
            }
        }

        // Run the function when the page loads
        window.onload = loadBookmarklets;
</script>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bookmarklets Compartilhados</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            color: #333;
            min-height: 100vh;
        }
        header {
            background: #2c3e50;
            color: #fff;
            text-align: center;
            padding: 1rem;
        }
        header h1 {
            margin: 0;
            font-size: 2rem;
        }
        .container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 0 1rem;
            padding-bottom: 2rem;
        }
        .bookmarklet {
            background: #fff;
            border: 1px solid #ddd;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 5px;
        }
        .bookmarklet h2 {
            margin: 0 0 0.5rem;
            font-size: 1.5rem;
        }
        .bookmarklet p {
            margin: 0 0 1rem;
        }
        .bookmarklet a {
            display: inline-block;
            padding: 0.5rem 1rem;
            background: #3498db;
            color: #fff;
            text-decoration: none;
            border-radius: 3px;
        }
        .bookmarklet a:hover {
            background: #2980b9;
        }
        footer {
            text-align: center;
            padding: 1rem;
            background: #2c3e50;
            color: #fff;
            width: 100%;
        }
        @media (max-width: 600px) {
            header h1 {
                font-size: 1.5rem;
            }
            .bookmarklet h2 {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Meus Bookmarklets</h1>
    </header>
    <div class="container">
        <section>
            <h2>Bookmarklets de Estilo</h2>
            <div class="bookmarklet">
                <h2>Mudar Cor de Fundo</h2>
                <p>Este bookmarklet muda a cor de fundo da página.</p>
                <a href="javascript:(function(){document.body.style.background='green';})();">Mudar Cor de Fundo</a>
            </div>
            <div class="bookmarklet">
                <h2>Aumentar Fonte</h2>
                <p>Este bookmarklet aumenta o tamanho da fonte de todos os elementos da página.</p>
                <a href="javascript:(function(){document.body.style.fontSize='1.2em';})();">Aumentar Fonte</a>
            </div>
            <div class="bookmarklet">
                <h2>Modo Escuro</h2>
                <p>Este bookmarklet aplica um tema escuro básico à página.</p>
                <a href="javascript:(function(){document.body.style.background='black';document.body.style.color='white';})();">Modo Escuro</a>
            </div>
        </section>
        <section>
            <h2>Bookmarklets de Texto</h2>
            <div class="bookmarklet">
                <h2>Substituir Texto</h2>
                <p>Este bookmarklet substitui todas as instâncias de "nuvem" por "chuva" na página.</p>
                <a href="javascript:(function(){document.body.innerHTML=document.body.innerHTML.replace(/nuvem/g,'chuva').replace(/Nuvem/g,'chuva');})();">Substituir Texto</a>
            </div>
            <div class="bookmarklet">
                <h2>Destacar Texto</h2>
                <p>Este bookmarklet destaca todas as instâncias de "chuva" com fundo amarelo.</p>
                <a href="javascript:(function(){document.body.innerHTML=document.body.innerHTML.replace(/chuva/g,'<span style=\'background-color:yellow;\'>chuva</span>').replace(/chuva/g,'<span style=\'background-color:yellow;\'>chuva</span>');})();">Destacar Texto</a>
            </div>
            <div class="bookmarklet">
                <h2>Remover Texto</h2>
                <p>Este bookmarklet remove todas as instâncias de "chuva" da página.</p>
                <a href="javascript:(function(){document.body.innerHTML=document.body.innerHTML.replace(/chuva/gi,'');})();">Remover Texto</a>
            </div>
        </section>
    </div>
    <footer>
        <p>© 2025 Seus Bookmarklets. Todos os direitos reservados.</p>
    </footer>
</body>
</html>